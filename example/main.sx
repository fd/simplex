package main

import (
	"fmt"
	_ "github.com/fd/simplex/data/storage/file_system"
	_ "github.com/fd/simplex/data/storage/memory"
	"github.com/fd/simplex/runtime"
)

func main() {
	runtime.Env.ConnectToStorage("file://hello")

	for _, name := range runtime.Env.Tables() {
		fmt.Println(name)
	}

	txn := runtime.Env.Transaction()
	for i := 0; i < 10; i++ {
		txn.Set(posts, fmt.Sprintf("post-%d", i), Post{Title: fmt.Sprintf("Hello world! (%d)", i)})
	}
	txn.Commit()
}
